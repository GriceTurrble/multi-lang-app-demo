[lint]
# Recommended ruff linting options
# For more details see: https://docs.astral.sh/ruff/configuration/
select = [
    "B",    # flake8-bugbear
    "DJ",   # flake8-django
    "E",    # pycodestyle errors
    "F",    # pyflakes
    "FA",   # flake8-future-annotations
    "FLY",  # flynt
    "I",    # isort
    "N",    # pep8-naming
    "NPY",  # numpy-specific
    "PERF", # performance
    "PGH",  # pygrep-hooks
    "PL",   # Pylint
    "S",    # flake8-bandit (security checks)
    "UP",   # pyupgrade (pre-commit hook for pyupgrade should fix most)
    "W",    # pycodestyle warnings
]

# Ignore certain rules across the entire repo
# (after selecting a set of rules like 'E', ignore subsets of those rules here)
ignore = [
    # Selected ignore rules
    "E203",    # whitespace-before-punctuation
    "F811",    # redefined-while-unused
    "PLR0913", # too-many-arguments
    "S101",    # assert (usage of the assert statement)
    "S113",    # request-without-timeout
    "S602",    # subprocess-popen-with-shell-equals-true
    "S603",    # subprocess-without-shell-equals-true
    "S607",    # start-process-with-partial-path
    "S608",    # hardcoded-sql-expression
    # Rules recommended to avoid when using Ruff formatter
    "COM812", # missing-trailing-comma
    "COM819", # prohibited-trailing-comma
    "D206",   # indent-with-spaces
    "D300",   # triple-single-quotes
    "E111",   # indentation-with-invalid-multiple
    "E114",   # indentation-with-invalid-multiple-comment
    "E117",   # over-indented
    "ISC001", # single-line-implicit-string-concatenation
    "ISC002", # multi-line-implicit-string-concatenation
    "Q000",   # bad-quotes-inline-string
    "Q001",   # bad-quotes-multiline-string
    "Q002",   # bad-quotes-docstring
    "Q003",   # avoidable-escaped-quote
    "W191",   # tab-indentation
]

# Attempt to auto-fix if running `ruff check . --fix`
fixable = [
    "I",    # isort
    "UP",   # pyupgrade
    "F401", # unused-import
]

# Avoid fixing these when using `--fix`.
unfixable = [
    "B", # flake8-bugbear
]

[lint.per-file-ignores]
"**/*test.py" = [
    "E501",    # line-too-long
    "F811",    # redefined-while-unused
    "N",       # pep8-naming
    "PLR2004", # magic-value-comparison
]
"**/test_*.py" = [
    "E501",    # line-too-long
    "F811",    # redefined-while-unused
    "N",       # pep8-naming
    "PLR2004", # magic-value-comparison
]
"tests/conftest.py" = [
    "PLC0415", # import-outside-top-level
]
